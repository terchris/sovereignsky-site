{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "region.schema.json",
  "title": "Region",
  "description": "Schema for countries/regions and their data sovereignty laws",
  "type": "object",
  "required": ["id", "name", "flag", "eu_member", "eea_member", "law_concern", "laws"],
  "properties": {
    "id": {
      "type": "string",
      "description": "ISO 3166-1 alpha-2 country code",
      "pattern": "^[A-Z]{2}$"
    },
    "name": {
      "type": "string",
      "description": "Display name of the country/region"
    },
    "flag": {
      "type": "string",
      "description": "Flag emoji for the country"
    },
    "eu_member": {
      "type": "boolean",
      "description": "Is this country a member of the European Union"
    },
    "eea_member": {
      "type": "boolean",
      "description": "Is this country a member of the European Economic Area (includes EU + Norway, Iceland, Liechtenstein)"
    },
    "adequacy_decision": {
      "type": "boolean",
      "description": "Has an EU adequacy decision for data transfers (e.g., Switzerland, Canada, Japan)"
    },
    "law_concern": {
      "type": "boolean",
      "description": "Does this country have laws that pose data sovereignty concerns"
    },
    "political_concern": {
      "type": "boolean",
      "description": "Are there political/ethical concerns about this country (e.g., sanctions, human rights)"
    },
    "sanctions": {
      "type": "boolean",
      "description": "Is this country under international sanctions"
    },
    "laws": {
      "type": "array",
      "description": "Laws that affect data sovereignty and government access to data",
      "items": {
        "$ref": "#/$defs/law"
      }
    }
  },
  "$defs": {
    "law": {
      "type": "object",
      "description": "A law that affects data sovereignty",
      "required": ["id", "name", "year", "summary", "severity", "url"],
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the law (lowercase, hyphenated)",
          "pattern": "^[a-z0-9-]+$"
        },
        "name": {
          "type": "string",
          "description": "Short name of the law"
        },
        "full_name": {
          "type": "string",
          "description": "Full official name of the law"
        },
        "year": {
          "type": "integer",
          "description": "Year the law was enacted",
          "minimum": 1900,
          "maximum": 2100
        },
        "summary": {
          "type": "string",
          "description": "Brief description of what the law does and its impact on data sovereignty"
        },
        "severity": {
          "type": "string",
          "description": "How severe is the impact on data sovereignty",
          "enum": ["low", "medium", "high"]
        },
        "url": {
          "type": "string",
          "description": "URL to official law text or authoritative source",
          "format": "uri"
        }
      }
    }
  }
}
