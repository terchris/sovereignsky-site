{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "blog.schema.json",
  "title": "Blog Posts",
  "description": "Schema for SovereignSky blog posts in schema.org ItemList format",
  "type": "object",
  "required": ["@context", "@type", "name", "itemListElement"],
  "properties": {
    "@context": {
      "const": "https://schema.org"
    },
    "@type": {
      "const": "ItemList"
    },
    "name": {
      "type": "string",
      "description": "Name of the blog collection"
    },
    "description": {
      "type": "string",
      "description": "Description of the blog collection"
    },
    "itemListElement": {
      "type": "array",
      "description": "Array of blog posts",
      "items": {
        "$ref": "#/definitions/BlogPosting"
      }
    }
  },
  "definitions": {
    "BlogPosting": {
      "type": "object",
      "required": ["@type", "identifier", "name", "description", "datePublished", "body"],
      "properties": {
        "@type": {
          "const": "BlogPosting"
        },
        "identifier": {
          "type": "string",
          "description": "Unique identifier and URL slug (e.g., '2025-12-01-norway-exit-strategy')",
          "pattern": "^[a-z0-9-]+$"
        },
        "name": {
          "type": "string",
          "description": "Blog post title"
        },
        "description": {
          "type": "string",
          "description": "Short description for SEO and cards (1-2 sentences)"
        },
        "abstract": {
          "type": "string",
          "description": "Longer summary for previews (2-3 sentences)"
        },
        "datePublished": {
          "type": "string",
          "format": "date",
          "description": "Publication date in YYYY-MM-DD format"
        },
        "author": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "List of author names"
        },
        "image": {
          "type": "string",
          "description": "Hero image filename (e.g., 'post-name.png')"
        },
        "topics": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Topic slugs from topics.json for categorization"
        },
        "tags": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Free-form keywords for discovery"
        },
        "audience": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Target audience identifiers (validated against data/audience/audience.json)"
        },
        "url": {
          "type": "string",
          "format": "uri",
          "description": "External source URL if post references external article"
        },
        "showHero": {
          "type": "boolean",
          "default": true,
          "description": "Whether to display hero image on post page"
        },
        "draft": {
          "type": "boolean",
          "default": false,
          "description": "Whether post is a draft (not published)"
        },
        "body": {
          "type": "string",
          "description": "Full markdown content of the blog post"
        },
        "relatedLaws": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Array of law identifiers this post relates to"
        },
        "relatedPosts": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Array of blog post identifiers for related posts"
        }
      }
    }
  }
}
