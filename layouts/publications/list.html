{{ define "main" }}
<article class="max-w-full">
  {{/* Section Header */}}
  {{ partial "section-header.html" (dict
      "title" .Title
      "description" .Description
      "icon" "book"
  ) }}

  {{/* Section Content - render markdown content which includes stats */}}
  <section class="max-w-full mt-6 prose dark:prose-invert prose-table:w-full prose-img:max-w-full [&>*]:max-w-none">
    {{ .Content }}
  </section>

  {{/* Publication cards */}}
  {{ if gt .Pages 0 }}
  <section class="grid gap-4 sm:grid-cols-2 lg:grid-cols-3 mt-8">
    {{ range .Pages }}
    <a href="{{ .RelPermalink }}" class="card bg-base-100 shadow-md hover:shadow-lg transition-shadow">
      {{ with .Params.featured_image }}
      <figure class="h-40 overflow-hidden">
        <img src="{{ . }}" alt="{{ $.Title }}" class="w-full h-full object-cover" />
      </figure>
      {{ end }}
      <div class="card-body p-4">
        <h2 class="card-title text-lg">{{ .Title }}</h2>
        {{ with .Description }}
        <p class="text-sm text-neutral-600 dark:text-neutral-400 line-clamp-2">{{ . }}</p>
        {{ end }}
        {{ with .Params.publisher }}
        <div class="text-xs text-neutral-500 dark:text-neutral-500 mt-2">{{ . }}</div>
        {{ end }}
      </div>
    </a>
    {{ end }}
  </section>
  {{ end }}
</article>
{{ end }}
