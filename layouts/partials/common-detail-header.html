{{/*
  common-detail-header.html - Standardized header for detail/single pages

  Usage:
    {{ partial "common-detail-header.html" (dict
        "title" "Norway"
        "description" "Description text here"
        "icon" "flag"
        "flag" "ðŸ‡³ðŸ‡´"
        "breadcrumbs" (slice
            (dict "title" "Jurisdictions" "url" "/countries/")
        )
    ) }}

  Parameters:
    title: Page title (required)
    description: Short description (optional)
    icon: Icon name from icon.html (optional, used if no flag)
    flag: Emoji flag (optional, takes precedence over icon)
    breadcrumbs: Slice of dicts with "title" and "url" (optional)
*/}}

{{ $title := .title | default "Untitled" }}
{{ $description := .description | default "" }}
{{ $icon := .icon | default "" }}
{{ $flag := .flag | default "" }}
{{ $breadcrumbs := .breadcrumbs | default (slice) }}

<header class="mb-6">
  {{/* Breadcrumbs */}}
  {{ if gt (len $breadcrumbs) 0 }}
  <nav class="text-sm breadcrumbs mb-4">
    <ul class="flex flex-wrap items-center gap-1 text-neutral-500 dark:text-neutral-400">
      <li><a href="/" class="hover:text-primary">Home</a></li>
      {{ range $breadcrumbs }}
      <li><a href="{{ .url }}" class="hover:text-primary">{{ .title }}</a></li>
      {{ end }}
      <li class="text-neutral-700 dark:text-neutral-300">{{ $title }}</li>
    </ul>
  </nav>
  {{ end }}

  {{/* Title with icon/flag */}}
  <div class="flex items-center gap-3 mb-2">
    {{ if $flag }}
    <span class="text-5xl">{{ $flag }}</span>
    {{ else if $icon }}
    <div class="text-primary">
      {{ partial "icon.html" (dict "name" $icon "size" "10" "class" "w-10 h-10") }}
    </div>
    {{ end }}
    <h1 class="text-3xl sm:text-4xl font-extrabold text-neutral-900 dark:text-neutral break-words hyphens-auto">
      {{ $title }}
    </h1>
  </div>

  {{/* Description */}}
  {{ if $description }}
  <p class="text-lg text-neutral-600 dark:text-neutral-400">
    {{ $description }}
  </p>
  {{ end }}
</header>
